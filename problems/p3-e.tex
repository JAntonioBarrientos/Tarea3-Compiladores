
Denotamos $\Gamma$ como el ambiente de tipos (conjunto de pares variable:tipo). La notación $\Gamma \vdash e : \tau$ indica que, bajo el ambiente $\Gamma$, la expresión $e$ tiene el tipo $\tau$.

\subsection*{1. Reglas de Inferencia}

Definimos las reglas para nuestros operadores booleanos:

\begin{center}
    % Regla para Literales
    \textbf{(Lit)} $\frac{}{\Gamma \vdash \texttt{True} : \texttt{bool}}$ \quad 
    $\frac{}{\Gamma \vdash \texttt{False} : \texttt{bool}}$
    \vspace{1em}
    
    % Regla para Identificadores
    \textbf{(Id)} $\frac{(x : \tau) \in \Gamma}{\Gamma \vdash x : \tau}$
    \vspace{1em}
    
    % Regla para NOT
    \textbf{(Not)} $\frac{\Gamma \vdash e : \texttt{bool}}{\Gamma \vdash \texttt{not } e : \texttt{bool}}$
    \vspace{1em}

    % Regla para Operadores Binarios (AND / OR)
    \textbf{(Op)} $\frac{\Gamma \vdash e_1 : \texttt{bool} \quad \Gamma \vdash e_2 : \texttt{bool}}{\Gamma \vdash e_1 \texttt{ op } e_2 : \texttt{bool}}$ \quad donde $op \in \{\texttt{and}, \texttt{or}\}$
\end{center}

\subsection*{2. Derivaciones}

A continuación, construimos los árboles de derivación para cada expresión.

\begin{enumerate}
    \item[(a)] \textbf{Expresión:} $(\texttt{True or } x) \texttt{ and True}$
    
    \textbf{Ambiente:} $\Gamma = \{ x : \texttt{bool} \}$
    
    \begin{center}
    \scalebox{1}{ % Ajustar escala si es necesario
    $
    \frac{
        \displaystyle
        \frac{
            \Gamma \vdash \texttt{True} : \texttt{bool} \quad \frac{(x:\texttt{bool}) \in \Gamma}{\Gamma \vdash x : \texttt{bool}}
        }{
            \Gamma \vdash (\texttt{True or } x) : \texttt{bool}
        }
        \quad
        \Gamma \vdash \texttt{True} : \texttt{bool}
    }{
        \Gamma \vdash (\texttt{True or } x) \texttt{ and True} : \texttt{bool}
    }
    $
    }
    \end{center}

    \item[(b)] \textbf{Expresión:} $(x \texttt{ or False}) \texttt{ and } (y \texttt{ and True})$
    
    \textbf{Ambiente:} $\Gamma = \{ x : \texttt{bool}, y : \texttt{bool} \}$
    
    \begin{center}
    \scalebox{0.9}{
    $
    \frac{
        \displaystyle
        \frac{
            \Gamma \vdash x : \texttt{bool} \quad \Gamma \vdash \texttt{False} : \texttt{bool}
        }{
            \Gamma \vdash (x \texttt{ or False}) : \texttt{bool}
        }
        \quad
        \frac{
             \Gamma \vdash y : \texttt{bool} \quad \Gamma \vdash \texttt{True} : \texttt{bool}
        }{
            \Gamma \vdash (y \texttt{ and True}) : \texttt{bool}
        }
    }{
        \Gamma \vdash (x \texttt{ or False}) \texttt{ and } (y \texttt{ and True}) : \texttt{bool}
    }
    $
    }
    \end{center}

    \item[(c)] \textbf{Expresión:} $(\texttt{True or False}) \texttt{ and } (\texttt{not } x)$
    
    \textbf{Ambiente:} $\Gamma = \{ x : \texttt{bool} \}$
    
    \begin{center}
    \scalebox{1}{
    $
    \frac{
        \displaystyle
        \frac{
            \Gamma \vdash \texttt{True}:\texttt{bool} \quad \Gamma \vdash \texttt{False}:\texttt{bool}
        }{
            \Gamma \vdash (\texttt{True or False}) : \texttt{bool}
        }
        \quad
        \frac{
            \Gamma \vdash x : \texttt{bool}
        }{
            \Gamma \vdash (\texttt{not } x) : \texttt{bool}
        }
    }{
        \Gamma \vdash (\texttt{True or False}) \texttt{ and } (\texttt{not } x) : \texttt{bool}
    }
    $
    }
    \end{center}

    \item[(d)] \textbf{Expresión:} $\texttt{not } (\texttt{True or } x) \texttt{ and } (\texttt{False or } y) \texttt{ or } (x \texttt{ and } y)$
    
    \textbf{Ambiente:} $\Gamma = \{ x : \texttt{bool}, y : \texttt{bool} \}$
    
    Debido a la longitud de la expresión, dividimos la derivación en sub-árboles: $D_1$ (izquierda), $D_2$ (centro) y $D_3$ (derecha).
    
    \[
    D_1: \frac{\Gamma \vdash \texttt{True}:\texttt{b} \quad \Gamma \vdash x:\texttt{b}}{\Gamma \vdash (\texttt{True or } x):\texttt{b}}
    \quad
    D_2: \frac{\Gamma \vdash \texttt{False}:\texttt{b} \quad \Gamma \vdash y:\texttt{b}}{\Gamma \vdash (\texttt{False or } y):\texttt{b}}
    \quad
    D_3: \frac{\Gamma \vdash x:\texttt{b} \quad \Gamma \vdash y:\texttt{b}}{\Gamma \vdash (x \texttt{ and } y):\texttt{b}}
    \]
    \footnotesize{*Abreviamos \texttt{bool} como \texttt{b}}
    \normalsize
    
    \textbf{Derivación Principal:}
    
    \begin{center}
    \scalebox{0.85}{
    $
    \frac{
        \displaystyle
        \frac{
             \displaystyle \frac{D_1}{\Gamma \vdash \texttt{not}(\dots) : \texttt{bool}} \quad D_2
        }{
            \Gamma \vdash \texttt{not } (\texttt{True or } x) \texttt{ and } (\texttt{False or } y) : \texttt{bool}
        }
        \quad
        D_3
    }{
        \Gamma \vdash \big( \texttt{not } (\texttt{True or } x) \texttt{ and } (\texttt{False or } y) \big) \texttt{ or } (x \texttt{ and } y) : \texttt{bool}
    }
    $
    }
    \end{center}
\end{enumerate}